[
  {
    "case_id": "workflow_test",
    "image_path": "workflow_test.jpeg",
    "ground_truth_module": "evals.ground_truth.workflow_test_ground_truth",
    "canonical_expected_nodes": [
      {"id": "start", "type": "start", "label": "Assess Total Cholesterol Result"},
      {"id": "chol_gt_7_5", "type": "decision", "label": "Total cholesterol > 7.5"},
      {"id": "under_specialist", "type": "decision", "label": "Under specialist clinic"},
      {"id": "optimised_high", "type": "decision", "label": "Optimised on treatment"},
      {"id": "chol_raised", "type": "decision", "label": "Total cholesterol > 5"},
      {"id": "on_therapy", "type": "decision", "label": "Taking lipid lowering therapy"},
      {"id": "optimised_raised", "type": "decision", "label": "Optimised on treatment"},
      {"id": "prevention", "type": "decision", "label": "Primary or Secondary prevention"},
      {"id": "qrisk", "type": "decision", "label": "QRISK2/3 >= 10"},
      {"id": "on_statin", "type": "decision", "label": "Taking maximally tolerated statin"},
      {"id": "ldl_gt_2", "type": "decision", "label": "LDL > 2"},
      {"id": "ldl_gt_2_5", "type": "decision", "label": "LDL > 2.5"},
      {"id": "repeat_guard", "type": "decision", "label": "Months on inclisiran >= 6 and LDL > 2.6"},
      {"id": "o_no_further", "type": "end", "label": "No Further Action"},
      {"id": "o_satisfactory", "type": "end", "label": "Mark as Satisfactory"},
      {"id": "o_mark_no_further", "type": "end", "label": "Mark as \"No Further Action\""},
      {"id": "o_send_lipid", "type": "end", "label": "Send \"Lipid Lowering Therapy\" AccuRx with self booking link"},
      {"id": "o_send_low_qrisk", "type": "end", "label": "Send \"High Cholesterol - Low QRISK\" AccuRx with self booking link"},
      {"id": "o_referral", "type": "end", "label": "Consider Lipid Clinic Referral"},
      {"id": "o_add_ezetimibe", "type": "end", "label": "Add in Ezetimibe"},
      {"id": "o_initiate_inclisiran", "type": "end", "label": "Initiate Inclisiran"},
      {"id": "o_repeat_lipids", "type": "end", "label": "Repeat Lipids at 3 months"}
    ],
    "canonical_expected_edges": [
      {"from": "start", "to": "repeat_guard", "label": ""},
      {"from": "repeat_guard", "to": "o_repeat_lipids", "label": "true"},
      {"from": "repeat_guard", "to": "chol_gt_7_5", "label": "false"},
      {"from": "chol_gt_7_5", "to": "under_specialist", "label": "true"},
      {"from": "chol_gt_7_5", "to": "chol_raised", "label": "false"},
      {"from": "under_specialist", "to": "o_no_further", "label": "true"},
      {"from": "under_specialist", "to": "optimised_high", "label": "false"},
      {"from": "optimised_high", "to": "o_referral", "label": "true"},
      {"from": "optimised_high", "to": "o_send_lipid", "label": "false"},
      {"from": "chol_raised", "to": "on_therapy", "label": "true"},
      {"from": "chol_raised", "to": "o_satisfactory", "label": "false"},
      {"from": "on_therapy", "to": "optimised_raised", "label": "true"},
      {"from": "on_therapy", "to": "prevention", "label": "false"},
      {"from": "optimised_raised", "to": "o_mark_no_further", "label": "true"},
      {"from": "optimised_raised", "to": "o_send_lipid", "label": "false"},
      {"from": "prevention", "to": "qrisk", "label": "primary"},
      {"from": "prevention", "to": "on_statin", "label": "secondary"},
      {"from": "qrisk", "to": "o_send_lipid", "label": "true"},
      {"from": "qrisk", "to": "o_send_low_qrisk", "label": "false"},
      {"from": "on_statin", "to": "ldl_gt_2", "label": "true"},
      {"from": "on_statin", "to": "o_send_lipid", "label": "false"},
      {"from": "ldl_gt_2", "to": "ldl_gt_2_5", "label": "true"},
      {"from": "ldl_gt_2", "to": "o_no_further", "label": "false"},
      {"from": "ldl_gt_2_5", "to": "o_initiate_inclisiran", "label": "true"},
      {"from": "ldl_gt_2_5", "to": "o_add_ezetimibe", "label": "false"}
    ],
    "expected_variables": [
      {"name": "under_specialist_clinic", "type": "bool"},
      {"name": "total_cholesterol", "type": "float"},
      {"name": "prevention_type", "type": "string"},
      {"name": "taking_lipid_lowering_therapy", "type": "bool"},
      {"name": "optimised_on_treatment", "type": "bool"},
      {"name": "qrisk2_3_score", "type": "float"},
      {"name": "taking_maximally_tolerated_statin", "type": "bool"},
      {"name": "ldl_cholesterol", "type": "float"},
      {"name": "months_on_inclisiran", "type": "int"}
    ],
    "expected_outputs": [
      "No Further Action",
      "Mark as Satisfactory",
      "Mark as \"No Further Action\"",
      "Send \"Lipid Lowering Therapy\" AccuRx with self booking link",
      "Send \"High Cholesterol - Low QRISK\" AccuRx with self booking link",
      "Consider Lipid Clinic Referral",
      "Add in Ezetimibe",
      "Initiate Inclisiran",
      "Repeat Lipids at 3 months"
    ]
  },
  {
    "case_id": "diabetes_treatment",
    "image_path": "Diabetes Treatment .png",
    "ground_truth_module": "evals.ground_truth.diabetes_ground_truth",
    "canonical_expected_nodes": [
      {"id": "start", "type": "start", "label": "Treatment Algorithm"},
      {"id": "symptoms", "type": "decision", "label": "Symptoms and new A1c > 58"},
      {"id": "admission", "type": "decision", "label": "Admission required"},
      {"id": "cvd_risk", "type": "decision", "label": "CVD known or risk"},
      {"id": "metformin_ok", "type": "decision", "label": "A1c <= 48 after metformin"},
      {"id": "sglt2_ok", "type": "decision", "label": "A1c <= 53 after SGLT2i"},
      {"id": "dual_ok", "type": "decision", "label": "A1c <= 53 after dual therapy"},
      {"id": "triple_ok", "type": "decision", "label": "A1c <= 58 after triple therapy"},
      {"id": "bmi_gate", "type": "decision", "label": "BMI >= 23"},
      {"id": "prognostic", "type": "decision", "label": "High prognostic value"},
      {"id": "glp_ok", "type": "decision", "label": "A1c <= 58 after GLP"},
      {"id": "o_admit", "type": "end", "label": "Admit via A&E/Medics"},
      {"id": "o_start_gliclazide", "type": "end", "label": "Start Gliclazide or Insulin"},
      {"id": "o_metformin", "type": "end", "label": "Metformin (continue and review in 3 months)"},
      {"id": "o_sglt2", "type": "end", "label": "SGLT2i (continue and review in 3 months)"},
      {"id": "o_ozempic_titrate", "type": "end", "label": "Ozempic titrate to full dose with 3 monthly A1c's"},
      {"id": "o_triple", "type": "end", "label": "Metformin + Gliptin/Pioglitazone/Gliclazide (consider SGLT2i)"},
      {"id": "o_ozempic", "type": "end", "label": "Ozempic"},
      {"id": "o_mounjaro", "type": "end", "label": "Mounjaro"},
      {"id": "o_insulin", "type": "end", "label": "Refer to Insulin Initiator"}
    ],
    "canonical_expected_edges": [
      {"from": "start", "to": "symptoms", "label": ""},
      {"from": "symptoms", "to": "admission", "label": "true"},
      {"from": "symptoms", "to": "cvd_risk", "label": "false"},
      {"from": "admission", "to": "o_admit", "label": "true"},
      {"from": "admission", "to": "o_start_gliclazide", "label": "false"},
      {"from": "cvd_risk", "to": "metformin_ok", "label": ""},
      {"from": "metformin_ok", "to": "o_metformin", "label": "true"},
      {"from": "metformin_ok", "to": "sglt2_ok", "label": "false"},
      {"from": "sglt2_ok", "to": "o_sglt2", "label": "true"},
      {"from": "sglt2_ok", "to": "glp_ok", "label": "false"},
      {"from": "glp_ok", "to": "o_ozempic_titrate", "label": "true"},
      {"from": "glp_ok", "to": "o_insulin", "label": "false"},
      {"from": "metformin_ok", "to": "dual_ok", "label": "not_cvd"},
      {"from": "dual_ok", "to": "o_triple", "label": "false"},
      {"from": "dual_ok", "to": "o_metformin", "label": "true"},
      {"from": "o_triple", "to": "triple_ok", "label": ""},
      {"from": "triple_ok", "to": "o_triple", "label": "true"},
      {"from": "triple_ok", "to": "bmi_gate", "label": "false"},
      {"from": "bmi_gate", "to": "o_triple", "label": "false"},
      {"from": "bmi_gate", "to": "prognostic", "label": "true"},
      {"from": "prognostic", "to": "o_ozempic", "label": "true"},
      {"from": "prognostic", "to": "o_mounjaro", "label": "false"},
      {"from": "o_ozempic", "to": "o_insulin", "label": "if_uncontrolled"},
      {"from": "o_mounjaro", "to": "o_insulin", "label": "if_uncontrolled"}
    ],
    "expected_variables": [
      {"name": "symptoms_and_new_a1c_gt_58", "type": "bool"},
      {"name": "admission_required", "type": "bool"},
      {"name": "cvd_known_or_risk", "type": "bool"},
      {"name": "metformin_tolerated", "type": "bool"},
      {"name": "a1c_after_metformin", "type": "float"},
      {"name": "a1c_after_sglt2i", "type": "float"},
      {"name": "a1c_after_dual_therapy", "type": "float"},
      {"name": "a1c_after_triple_therapy", "type": "float"},
      {"name": "a1c_after_glp", "type": "float"},
      {"name": "dual_agent_choice", "type": "string"},
      {"name": "bmi", "type": "float"},
      {"name": "high_prognostic_value", "type": "bool"}
    ],
    "expected_outputs": [
      "Admit via A&E/Medics",
      "Start Gliclazide or Insulin",
      "Metformin (continue and review in 3 months)",
      "SGLT2i (continue and review in 3 months)",
      "Ozempic titrate to full dose with 3 monthly A1c's",
      "Metformin + Gliptin/Pioglitazone/Gliclazide (consider SGLT2i)",
      "Metformin + Gliptin",
      "Metformin + Pioglitazone",
      "Metformin + Gliclazide",
      "Ozempic",
      "Mounjaro",
      "Refer to Insulin Initiator"
    ]
  },
  {
    "case_id": "liver_pathology",
    "image_path": "Liver Pathology .png",
    "ground_truth_module": "evals.ground_truth.liver_ground_truth",
    "canonical_expected_nodes": [
      {"id": "start", "type": "start", "label": "Liver Pathology Suspected and Work up initiated"},
      {"id": "tests_normalise", "type": "decision", "label": "Tests normalise or notably improve"},
      {"id": "three_month_window", "type": "decision", "label": "Abnormal LFTs >= 3 months or sustained worsening"},
      {"id": "fib4_high", "type": "decision", "label": "FIB-4 high risk"},
      {"id": "nafld_high", "type": "decision", "label": "NAFLD fibrosis score high risk"},
      {"id": "both_low", "type": "decision", "label": "FIB-4 and NAFLD both low risk"},
      {"id": "fibroscan_available", "type": "decision", "label": "Fibroscan available"},
      {"id": "fibroscan_high_risk", "type": "decision", "label": "Fibroscan high risk"},
      {"id": "no_concern", "type": "decision", "label": "No concern after review"},
      {"id": "o_normal", "type": "end", "label": "Mark as Normal / Satisfactory"},
      {"id": "o_recheck", "type": "end", "label": "Recheck Baseline Liver Profile in appropriate timeframe"},
      {"id": "o_annual", "type": "end", "label": "Manage risk factors and co-morbidities - Annual Screening"},
      {"id": "o_fibroscan", "type": "end", "label": "Fibroscan if available"},
      {"id": "o_phase4", "type": "end", "label": "Phase 4 Bloods"},
      {"id": "o_secondary", "type": "end", "label": "Refer to Secondary Care once bloods are back, irrespective of diagnosis or if all tests normal"},
      {"id": "o_no_concern", "type": "end", "label": "No Concern, or escalation required"}
    ],
    "canonical_expected_edges": [
      {"from": "start", "to": "tests_normalise", "label": ""},
      {"from": "tests_normalise", "to": "o_normal", "label": "true"},
      {"from": "tests_normalise", "to": "three_month_window", "label": "false"},
      {"from": "three_month_window", "to": "o_recheck", "label": "false"},
      {"from": "three_month_window", "to": "fib4_high", "label": "true"},
      {"from": "fib4_high", "to": "o_secondary", "label": "true"},
      {"from": "fib4_high", "to": "nafld_high", "label": "false"},
      {"from": "nafld_high", "to": "o_secondary", "label": "true"},
      {"from": "nafld_high", "to": "both_low", "label": "false"},
      {"from": "both_low", "to": "o_annual", "label": "true"},
      {"from": "both_low", "to": "fibroscan_available", "label": "false"},
      {"from": "fibroscan_available", "to": "o_fibroscan", "label": "false"},
      {"from": "fibroscan_available", "to": "fibroscan_high_risk", "label": "true"},
      {"from": "fibroscan_high_risk", "to": "o_secondary", "label": "true"},
      {"from": "fibroscan_high_risk", "to": "o_phase4", "label": "false"},
      {"from": "o_annual", "to": "no_concern", "label": "review"},
      {"from": "no_concern", "to": "o_no_concern", "label": "true"},
      {"from": "no_concern", "to": "o_annual", "label": "false"}
    ],
    "expected_variables": [
      {"name": "months_with_abnormal_lfts", "type": "int"},
      {"name": "tests_normalise_or_notably_improve", "type": "bool"},
      {"name": "sustained_or_worsening_abnormalities", "type": "bool"},
      {"name": "fib4_score", "type": "float"},
      {"name": "nafld_fibrosis_score", "type": "float"},
      {"name": "age", "type": "int"},
      {"name": "fibroscan_available", "type": "bool"},
      {"name": "fibroscan_high_risk", "type": "bool"},
      {"name": "rare_conditions_suspected", "type": "bool"},
      {"name": "liver_uss_done_since_abnormal_lft", "type": "bool"},
      {"name": "raised_igg", "type": "bool"},
      {"name": "ulcerative_colitis_or_panca_positive", "type": "bool"},
      {"name": "no_concern_after_review", "type": "bool"}
    ],
    "expected_outputs": [
      "Mark as Normal / Satisfactory",
      "Recheck Baseline Liver Profile in appropriate timeframe",
      "Manage risk factors and co-morbidities - Annual Screening",
      "Fibroscan if available",
      "Phase 4 Bloods",
      "Refer to Secondary Care once bloods are back, irrespective of diagnosis or if all tests normal",
      "No Concern, or escalation required"
    ]
  }
]
