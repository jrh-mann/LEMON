{
  "inputs": [],
  "outputs": [
    {
      "name": "No Further Action",
      "description": "No further action required (cholesterol satisfactory)"
    },
    {
      "name": "Mark as Satisfactory",
      "description": "Mark the result as satisfactory"
    },
    {
      "name": "Mark as \"No Further Action\"",
      "description": "Mark as no further action (raised but on therapy and optimised)"
    },
    {
      "name": "Send \"Lipid Lowering Therapy\" AccuRx with self booking link (secondary/not optimised)",
      "description": "Send lipid lowering therapy AccuRx message - secondary prevention path not optimised"
    },
    {
      "name": "Send \"Lipid Lowering Therapy\" AccuRx with self booking link (not taking therapy)",
      "description": "Send lipid lowering therapy AccuRx message - not taking therapy path"
    },
    {
      "name": "Send \"High Cholesterol - Low QRISK\" AccuRx with self booking link",
      "description": "Send high cholesterol low QRISK AccuRx message"
    },
    {
      "name": "Send \"Lipid Lowering Therapy\" AccuRx with self booking link (not max statin)",
      "description": "Send lipid lowering therapy AccuRx - not on maximally tolerated statin"
    },
    {
      "name": "No Further Action (LDL \u22642)",
      "description": "No further action as LDL is at or below 2"
    },
    {
      "name": "Initiate Inclisiran",
      "description": "Initiate Inclisiran treatment"
    },
    {
      "name": "Add in Ezetimibe",
      "description": "Add Ezetimibe to treatment"
    },
    {
      "name": "Send \"Lipid Lowering Therapy\" AccuRx with self booking link (upper not optimised)",
      "description": "Send lipid lowering therapy AccuRx - specialist clinic path, not optimised on treatment"
    },
    {
      "name": "Consider Lipid Clinic Referral",
      "description": "Consider referral to lipid clinic"
    },
    {
      "name": "Refer to specialist",
      "description": "Refer the patient to a specialist"
    }
  ],
  "tree": {
    "start": {
      "id": "start",
      "type": "start",
      "label": "Assess Total Cholesterol Result",
      "children": [
        {
          "id": "n_cholesterol_gt75",
          "type": "decision",
          "label": "> 7.5 or \u2264 7.5?",
          "input_ids": [],
          "condition": {
            "input_id": "input_total_cholesterol_result_float",
            "comparator": "gt",
            "value": 7.5
          },
          "children": [
            {
              "id": "n_under_specialist",
              "type": "decision",
              "label": "Under Specialist Clinic?",
              "input_ids": [],
              "condition": {
                "input_id": "input_under_specialist_clinic_bool",
                "comparator": "is_true"
              },
              "edge_label": "true",
              "children": [
                {
                  "id": "n_no_further_action_specialist",
                  "type": "output",
                  "label": "No Further Action",
                  "edge_label": "true",
                  "children": []
                },
                {
                  "id": "n_specialist_not_coded",
                  "type": "action",
                  "label": "not coded, assume no",
                  "edge_label": "false",
                  "children": [
                    {
                      "id": "n_optimised_upper",
                      "type": "decision",
                      "label": "Are They Optimised on treatment?",
                      "input_ids": [],
                      "condition": {
                        "input_id": "input_optimised_on_treatment_upper_bool",
                        "comparator": "is_true"
                      },
                      "children": [
                        {
                          "id": "n_consider_referral",
                          "type": "output",
                          "label": "Consider Lipid Clinic Referral",
                          "edge_label": "true",
                          "children": []
                        },
                        {
                          "id": "n_refer_specialist",
                          "type": "output",
                          "label": "Refer to specilaist",
                          "edge_label": "false",
                          "children": []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "id": "n_normal_or_raised",
              "type": "decision",
              "label": "Normal or Raised?",
              "input_ids": [],
              "condition": {
                "input_id": "input_normal_or_raised_enum",
                "comparator": "enum_eq",
                "value": "Normal"
              },
              "edge_label": "false",
              "children": [
                {
                  "id": "n_mark_satisfactory",
                  "type": "output",
                  "label": "Mark as Satisfactory",
                  "edge_label": "true",
                  "children": []
                },
                {
                  "id": "n_taking_lipid_lowering",
                  "type": "decision",
                  "label": "Taking Lipid Lowering Therapy?",
                  "input_ids": [],
                  "condition": {
                    "input_id": "input_taking_lipid_lowering_therapy_bool",
                    "comparator": "is_true"
                  },
                  "edge_label": "false",
                  "children": [
                    {
                      "id": "n_optimised_lower",
                      "type": "decision",
                      "label": "Are They Optimised on treatment?",
                      "input_ids": [],
                      "condition": {
                        "input_id": "input_optimised_on_treatment_bool",
                        "comparator": "is_true"
                      },
                      "edge_label": "true",
                      "children": [
                        {
                          "id": "n_mark_no_further",
                          "type": "output",
                          "label": "Mark as \"No Further Action\"",
                          "edge_label": "true",
                          "children": []
                        },
                        {
                          "id": "n_send_lipid_lower_not_optimised",
                          "type": "output",
                          "label": "Send \"Lipid Lowering Therapy\" AccuRx with self booking link",
                          "edge_label": "false",
                          "children": []
                        }
                      ]
                    },
                    {
                      "id": "n_primary_or_secondary",
                      "type": "decision",
                      "label": "Primary or Secondary Prevention?",
                      "input_ids": [],
                      "condition": {
                        "input_id": "input_primary_or_secondary_enum",
                        "comparator": "enum_eq",
                        "value": "Primary"
                      },
                      "edge_label": "false",
                      "children": [
                        {
                          "id": "n_calculate_qrisk",
                          "type": "action",
                          "label": "Calculate QRISK2/3",
                          "edge_label": "true",
                          "children": [
                            {
                              "id": "n_qrisk_gte10",
                              "type": "decision",
                              "label": "\u2265 10% or < 10%?",
                              "input_ids": [],
                              "condition": {
                                "input_id": "input_qrisk_float",
                                "comparator": "gte",
                                "value": 10
                              },
                              "children": [
                                {
                                  "id": "n_send_lipid_lowering_qrisk",
                                  "type": "output",
                                  "label": "Send \"Lipid Lowering Therapy\" AccuRx with self booking link",
                                  "edge_label": "true",
                                  "children": []
                                },
                                {
                                  "id": "n_send_high_chol_low_qrisk",
                                  "type": "output",
                                  "label": "Send \"High Cholesterol - Low QRISK\" AccuRx with self booking link",
                                  "edge_label": "false",
                                  "children": []
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "id": "n_taking_max_statin",
                          "type": "decision",
                          "label": "Taking Maximally Tolerated Statin?",
                          "input_ids": [],
                          "condition": {
                            "input_id": "input_taking_maximally_tolerated_statin_bool",
                            "comparator": "is_true"
                          },
                          "edge_label": "false",
                          "children": [
                            {
                              "id": "n_assess_ldl",
                              "type": "action",
                              "label": "Assess LDL",
                              "input_ids": [],
                              "edge_label": "true",
                              "children": [
                                {
                                  "id": "n_ldl_level",
                                  "type": "decision",
                                  "label": "LDL level?",
                                  "input_ids": [],
                                  "condition": {
                                    "input_id": "input_ldl_float",
                                    "comparator": "lte",
                                    "value": 2
                                  },
                                  "children": [
                                    {
                                      "id": "n_no_further_ldl_low",
                                      "type": "output",
                                      "label": "No Further Action",
                                      "edge_label": "true",
                                      "children": []
                                    },
                                    {
                                      "id": "n_ldl_225_26",
                                      "type": "decision",
                                      "label": "LDL 2-2.5 or LDL \u2265 2.6?",
                                      "input_ids": [],
                                      "condition": {
                                        "input_id": "input_ldl_float",
                                        "comparator": "gte",
                                        "value": 2.6
                                      },
                                      "edge_label": "false",
                                      "children": [
                                        {
                                          "id": "n_initiate_inclisiran",
                                          "type": "output",
                                          "label": "Initiate Inclisiran",
                                          "edge_label": "true",
                                          "children": []
                                        },
                                        {
                                          "id": "n_had_inclisiran",
                                          "type": "decision",
                                          "label": "Has had 6 months of Inclisiran / Hasn't had 6 months of Inclisiran",
                                          "input_ids": [],
                                          "condition": {
                                            "input_id": "input_had_6_months_inclisiran_bool",
                                            "comparator": "is_true"
                                          },
                                          "edge_label": "false",
                                          "children": [
                                            {
                                              "id": "n_add_ezetimibe",
                                              "type": "output",
                                              "label": "Add in Ezetimibe",
                                              "edge_label": "true",
                                              "children": []
                                            },
                                            {
                                              "id": "n_repeat_lipids",
                                              "type": "action",
                                              "label": "Repeat Lipids at 3 months",
                                              "edge_label": "false",
                                              "children": [
                                                {
                                                  "id": "n_ldl_gt2",
                                                  "type": "decision",
                                                  "label": "LDL >2.0?",
                                                  "input_ids": [],
                                                  "condition": {
                                                    "input_id": "input_ldl_float",
                                                    "comparator": "gt",
                                                    "value": 2.0
                                                  },
                                                  "children": [
                                                    {
                                                      "id": "n_add_ezetimibe_2",
                                                      "type": "output",
                                                      "label": "Add in Ezetimibe",
                                                      "edge_label": "true",
                                                      "children": []
                                                    },
                                                    {
                                                      "id": "n_send_lipid_lowering_repeat",
                                                      "type": "output",
                                                      "label": "Send \"Lipid Lowering Therapy\" AccuRx with self booking link",
                                                      "edge_label": "false",
                                                      "children": []
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": "n_send_lipid_not_max_statin",
                              "type": "output",
                              "label": "Send \"Lipid Lowering Therapy\" AccuRx with self booking link",
                              "edge_label": "false",
                              "children": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  },
  "doubts": [
    "The diagram has two separate 'Are They Optimised on treatment?' nodes (one for specialist clinic path, one for lipid lowering therapy path) - mapping is assumed but the upper path (specialist) leads to Consider Lipid Clinic Referral / Refer to specialist while the lower leads to Mark as No Further Action / Send AccuRx.",
    "The 'not coded, assume no' yellow sticky note modifies the 'Under Specialist Clinic?' decision - it is unclear if this is a system default or a user instruction; modelled as a branching action node.",
    "The LDL 2-2.5 branch in the secondary prevention path leads to a 'Hasn't had 6 months of Inclisiran' -> Repeat Lipids -> LDL >2.0 -> Add Ezetimibe path, but the diagram also shows a direct 'Send Lipid Lowering Therapy AccuRx' from the repeat lipids if LDL is not >2; this interpretation may be incorrect.",
    "The 'Consultation' label near the 'Send Lipid Lowering Therapy AccuRx with self booking link' (upper not-optimised path) is ambiguous - it may indicate a consultation step before or after sending the message.",
    "The 'Primary/Secondary Treatment' labels appearing on the left side of the diagram are legend annotations and not flow nodes; they have been omitted from the tree.",
    "The diagram's flow for the upper path (cholesterol >7.5, not under specialist) connecting back to 'Are They Optimised on treatment?' and then to 'Consider Lipid Clinic Referral' or 'Refer to specialist' is somewhat unclear in directionality.",
    "It is ambiguous whether the 'Add in Ezetimibe' node after 'Has had 6 months of Inclisiran' and after 'Repeat Lipids at 3 months / LDL >2.0' are the same action or different instances; modelled as two separate output nodes."
  ],
  "variables": []
}