{
  "nodes": [
    {
      "id": "start",
      "type": "start",
      "label": "Liver Pathology Suspected & Work up Initiated",
      "x": 0.0,
      "y": 0.0
    },
    {
      "id": "n_phase1",
      "type": "process",
      "label": "Phase 1: Send Acuflix Template & request alcohol info",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_phase2",
      "type": "process",
      "label": "Phase 2: Baseline & Phase 2 Bloods: LFT, FBC, AST, GGT (To allow FIB4 Calculation)",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "d_tests_normalise",
      "type": "decision",
      "label": "Tests normalise or notably improve?",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "d_alt_abnormal",
      "type": "decision",
      "label": "ALT remains abnormal, worsens and/or additional tests are abnormal too?",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "out_normal2",
      "type": "output",
      "label": "Mark as Normal / Satisfactory",
      "x": 0.0,
      "y": 0.0
    },
    {
      "id": "n_recheck",
      "type": "process",
      "label": "Recheck Baseline Liver Profile in appropriate timeframe",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "d_findings_duration",
      "type": "decision",
      "label": "Findings present for >=3 months?",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_recheck2",
      "type": "process",
      "label": "Recheck Baseline Liver Profile in appropriate timeframe (findings present for <3 months)",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_fib4_nafld",
      "type": "process",
      "label": "FIB 4 Score & NAFLD Fibrosis Score",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "d_sustained_worsening",
      "type": "decision",
      "label": "Sustained or worsening abnormalities?",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "out_code_normal",
      "type": "output",
      "label": "Code as normal USS and file",
      "x": 0.0,
      "y": 0.0
    },
    {
      "id": "n_consultation",
      "type": "process",
      "label": "Patient needs consultation for liver pathology and consent for further testing",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_phase3",
      "type": "process",
      "label": "Phase 3",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_liver_uss",
      "type": "process",
      "label": "Request Liver USS if not done since abnormal LFT have been noted",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_mandatory_testing",
      "type": "process",
      "label": "Mandatory Testing",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_phase4_bloods_main",
      "type": "process",
      "label": "Phase 4 Bloods",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_wilsons",
      "type": "process",
      "label": "Wilsons Disease Screen: Ceruloplasmin, Alpha 1 Antitrypsin (A1AT) Screen: A1AT",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "d_transferrin",
      "type": "decision",
      "label": "Transferrin Sat >=45% Or Raised Ferritin?",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_conditional_testing",
      "type": "process",
      "label": "Conditional Testing",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "d_uc_panca",
      "type": "decision",
      "label": "Ulcerative Colitis or P-ANCA positive?",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "d_raised_igg",
      "type": "decision",
      "label": "Raised IgG?",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_nafld_categories",
      "type": "process",
      "label": "NAFLD Fibrosis Score Categories / FIB 4 Categories",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "d_nafld_score",
      "type": "decision",
      "label": "NAFLD Fibrosis Score <-1.455?",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "d_nafld_indeterminate",
      "type": "decision",
      "label": "NAFLD Fibrosis Score -1.455 to 0.675?",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_f3f4",
      "type": "process",
      "label": "F3-F4 (Severe fibrosis or Cirrhosis)",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_phase4_f3f4",
      "type": "process",
      "label": "Phase 4 Bloods",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "out_refer_secondary4",
      "type": "output",
      "label": "Refer to Secondary Care once bloods are back, irrespective of diagnosis or if all tests normal",
      "x": 0.0,
      "y": 0.0
    },
    {
      "id": "n_indeterminate",
      "type": "process",
      "label": "Indeterminate Score",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "d_fib4_low",
      "type": "decision",
      "label": "FIB-4 <1.3 (or <2.0 if age >=65)?",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "d_fib4_intermediate",
      "type": "decision",
      "label": "FIB-4 >=1.3 to <2.67 (or >=2.0 if age >=65) Intermediate or High Risk?",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_high_risk_phase4",
      "type": "process",
      "label": "Phase 4 Bloods",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "out_refer_secondary3",
      "type": "output",
      "label": "Refer to Secondary Care once bloods are back, irrespective of diagnosis or if all tests normal",
      "x": 0.0,
      "y": 0.0
    },
    {
      "id": "n_fibrous_scan",
      "type": "process",
      "label": "Fibrous Scan if available",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_phase4_from_scan",
      "type": "process",
      "label": "Phase 4 Bloods",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "out_refer_secondary2",
      "type": "output",
      "label": "Refer to Secondary Care once bloods are back, irrespective of diagnosis or if all tests normal",
      "x": 0.0,
      "y": 0.0
    },
    {
      "id": "out_low_risk_manage",
      "type": "output",
      "label": "manage risk factors and co-morbidities - Annual Screening",
      "x": 0.0,
      "y": 0.0
    },
    {
      "id": "out_f0f2_manage",
      "type": "output",
      "label": "manage risk factors and co-morbidities - Annual Screening",
      "x": 0.0,
      "y": 0.0
    },
    {
      "id": "n_autoimmune",
      "type": "process",
      "label": "Autoimmune Hepatitis Type 1 Screen: ANA, SMA; Autoimmune Hepatitis Type 2 Screen: LKM-1, SLA (not on EMIS)",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "out_mrcp",
      "type": "output",
      "label": "Requires MRCP via Gastroenterology",
      "x": 0.0,
      "y": 0.0
    },
    {
      "id": "n_haemochromatosis",
      "type": "process",
      "label": "Haemochromatosis Gene Test",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "d_raised_igm",
      "type": "decision",
      "label": "Raised IgM?",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_review_result_no_igm",
      "type": "process",
      "label": "Review Result",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_primary_biliary",
      "type": "process",
      "label": "Primary Biliary Cirrhosis Screen: AMA",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_review_result",
      "type": "process",
      "label": "Review Result",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "d_review_abnormal",
      "type": "decision",
      "label": "Review Result abnormal?",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "out_no_concern2",
      "type": "output",
      "label": "No Concern, or escalation required",
      "x": 0.0,
      "y": 0.0
    },
    {
      "id": "n_telephone_consultation",
      "type": "process",
      "label": "Telephone Consultation",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "d_referral_required",
      "type": "decision",
      "label": "Referral required to secondary care?",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "n_phase4_bloods_secondary",
      "type": "process",
      "label": "Phase 4 Bloods",
      "x": 0.0,
      "y": 0.0,
      "input_ids": []
    },
    {
      "id": "out_refer_secondary",
      "type": "output",
      "label": "Refer to Secondary Care once bloods are back, irrespective of diagnosis or if all tests normal",
      "x": 0.0,
      "y": 0.0
    },
    {
      "id": "out_no_concern",
      "type": "output",
      "label": "No Concern, or escalation required",
      "x": 0.0,
      "y": 0.0
    },
    {
      "id": "out_normal_satisfactory",
      "type": "output",
      "label": "Mark as Normal / Satisfactory",
      "x": 0.0,
      "y": 0.0
    }
  ],
  "edges": [
    {
      "from": "start",
      "to": "n_phase1",
      "label": "",
      "id": "start->n_phase1"
    },
    {
      "from": "n_phase1",
      "to": "n_phase2",
      "label": "",
      "id": "n_phase1->n_phase2"
    },
    {
      "from": "n_phase2",
      "to": "d_tests_normalise",
      "label": "",
      "id": "n_phase2->d_tests_normalise"
    },
    {
      "from": "d_tests_normalise",
      "to": "out_normal_satisfactory",
      "label": "true",
      "id": "d_tests_normalise->out_normal_satisfactory"
    },
    {
      "from": "d_tests_normalise",
      "to": "d_alt_abnormal",
      "label": "false",
      "id": "d_tests_normalise->d_alt_abnormal"
    },
    {
      "from": "d_alt_abnormal",
      "to": "n_recheck",
      "label": "true",
      "id": "d_alt_abnormal->n_recheck"
    },
    {
      "from": "d_alt_abnormal",
      "to": "out_normal2",
      "label": "false",
      "id": "d_alt_abnormal->out_normal2"
    },
    {
      "from": "n_recheck",
      "to": "d_findings_duration",
      "label": "",
      "id": "n_recheck->d_findings_duration"
    },
    {
      "from": "d_findings_duration",
      "to": "n_fib4_nafld",
      "label": "true",
      "id": "d_findings_duration->n_fib4_nafld"
    },
    {
      "from": "d_findings_duration",
      "to": "n_recheck2",
      "label": "false",
      "id": "d_findings_duration->n_recheck2"
    },
    {
      "from": "n_fib4_nafld",
      "to": "d_sustained_worsening",
      "label": "",
      "id": "n_fib4_nafld->d_sustained_worsening"
    },
    {
      "from": "d_sustained_worsening",
      "to": "n_consultation",
      "label": "true",
      "id": "d_sustained_worsening->n_consultation"
    },
    {
      "from": "d_sustained_worsening",
      "to": "out_code_normal",
      "label": "false",
      "id": "d_sustained_worsening->out_code_normal"
    },
    {
      "from": "n_consultation",
      "to": "n_phase3",
      "label": "",
      "id": "n_consultation->n_phase3"
    },
    {
      "from": "n_phase3",
      "to": "n_liver_uss",
      "label": "",
      "id": "n_phase3->n_liver_uss"
    },
    {
      "from": "n_liver_uss",
      "to": "n_mandatory_testing",
      "label": "",
      "id": "n_liver_uss->n_mandatory_testing"
    },
    {
      "from": "n_mandatory_testing",
      "to": "n_phase4_bloods_main",
      "label": "",
      "id": "n_mandatory_testing->n_phase4_bloods_main"
    },
    {
      "from": "n_phase4_bloods_main",
      "to": "n_wilsons",
      "label": "",
      "id": "n_phase4_bloods_main->n_wilsons"
    },
    {
      "from": "n_wilsons",
      "to": "d_transferrin",
      "label": "",
      "id": "n_wilsons->d_transferrin"
    },
    {
      "from": "d_transferrin",
      "to": "n_haemochromatosis",
      "label": "true",
      "id": "d_transferrin->n_haemochromatosis"
    },
    {
      "from": "d_transferrin",
      "to": "n_conditional_testing",
      "label": "false",
      "id": "d_transferrin->n_conditional_testing"
    },
    {
      "from": "n_conditional_testing",
      "to": "d_uc_panca",
      "label": "",
      "id": "n_conditional_testing->d_uc_panca"
    },
    {
      "from": "d_uc_panca",
      "to": "out_mrcp",
      "label": "true",
      "id": "d_uc_panca->out_mrcp"
    },
    {
      "from": "d_uc_panca",
      "to": "d_raised_igg",
      "label": "false",
      "id": "d_uc_panca->d_raised_igg"
    },
    {
      "from": "d_raised_igg",
      "to": "n_autoimmune",
      "label": "true",
      "id": "d_raised_igg->n_autoimmune"
    },
    {
      "from": "d_raised_igg",
      "to": "n_nafld_categories",
      "label": "false",
      "id": "d_raised_igg->n_nafld_categories"
    },
    {
      "from": "n_nafld_categories",
      "to": "d_nafld_score",
      "label": "",
      "id": "n_nafld_categories->d_nafld_score"
    },
    {
      "from": "d_nafld_score",
      "to": "out_f0f2_manage",
      "label": "true",
      "id": "d_nafld_score->out_f0f2_manage"
    },
    {
      "from": "d_nafld_score",
      "to": "d_nafld_indeterminate",
      "label": "false",
      "id": "d_nafld_score->d_nafld_indeterminate"
    },
    {
      "from": "d_nafld_indeterminate",
      "to": "n_indeterminate",
      "label": "true",
      "id": "d_nafld_indeterminate->n_indeterminate"
    },
    {
      "from": "d_nafld_indeterminate",
      "to": "n_f3f4",
      "label": "false",
      "id": "d_nafld_indeterminate->n_f3f4"
    },
    {
      "from": "n_f3f4",
      "to": "n_phase4_f3f4",
      "label": "",
      "id": "n_f3f4->n_phase4_f3f4"
    },
    {
      "from": "n_phase4_f3f4",
      "to": "out_refer_secondary4",
      "label": "",
      "id": "n_phase4_f3f4->out_refer_secondary4"
    },
    {
      "from": "n_indeterminate",
      "to": "d_fib4_low",
      "label": "",
      "id": "n_indeterminate->d_fib4_low"
    },
    {
      "from": "d_fib4_low",
      "to": "out_low_risk_manage",
      "label": "true",
      "id": "d_fib4_low->out_low_risk_manage"
    },
    {
      "from": "d_fib4_low",
      "to": "d_fib4_intermediate",
      "label": "false",
      "id": "d_fib4_low->d_fib4_intermediate"
    },
    {
      "from": "d_fib4_intermediate",
      "to": "n_fibrous_scan",
      "label": "true",
      "id": "d_fib4_intermediate->n_fibrous_scan"
    },
    {
      "from": "d_fib4_intermediate",
      "to": "n_high_risk_phase4",
      "label": "false",
      "id": "d_fib4_intermediate->n_high_risk_phase4"
    },
    {
      "from": "n_high_risk_phase4",
      "to": "out_refer_secondary3",
      "label": "",
      "id": "n_high_risk_phase4->out_refer_secondary3"
    },
    {
      "from": "n_fibrous_scan",
      "to": "n_phase4_from_scan",
      "label": "",
      "id": "n_fibrous_scan->n_phase4_from_scan"
    },
    {
      "from": "n_phase4_from_scan",
      "to": "out_refer_secondary2",
      "label": "",
      "id": "n_phase4_from_scan->out_refer_secondary2"
    },
    {
      "from": "n_haemochromatosis",
      "to": "d_raised_igm",
      "label": "",
      "id": "n_haemochromatosis->d_raised_igm"
    },
    {
      "from": "d_raised_igm",
      "to": "n_primary_biliary",
      "label": "true",
      "id": "d_raised_igm->n_primary_biliary"
    },
    {
      "from": "d_raised_igm",
      "to": "n_review_result_no_igm",
      "label": "false",
      "id": "d_raised_igm->n_review_result_no_igm"
    },
    {
      "from": "n_primary_biliary",
      "to": "n_review_result",
      "label": "",
      "id": "n_primary_biliary->n_review_result"
    },
    {
      "from": "n_review_result",
      "to": "d_review_abnormal",
      "label": "",
      "id": "n_review_result->d_review_abnormal"
    },
    {
      "from": "d_review_abnormal",
      "to": "n_telephone_consultation",
      "label": "true",
      "id": "d_review_abnormal->n_telephone_consultation"
    },
    {
      "from": "d_review_abnormal",
      "to": "out_no_concern2",
      "label": "false",
      "id": "d_review_abnormal->out_no_concern2"
    },
    {
      "from": "n_telephone_consultation",
      "to": "d_referral_required",
      "label": "",
      "id": "n_telephone_consultation->d_referral_required"
    },
    {
      "from": "d_referral_required",
      "to": "out_no_concern",
      "label": "false",
      "id": "d_referral_required->out_no_concern"
    },
    {
      "from": "d_referral_required",
      "to": "n_phase4_bloods_secondary",
      "label": "true",
      "id": "d_referral_required->n_phase4_bloods_secondary"
    },
    {
      "from": "n_phase4_bloods_secondary",
      "to": "out_refer_secondary",
      "label": "",
      "id": "n_phase4_bloods_secondary->out_refer_secondary"
    }
  ]
}